@using Blazored.FluentValidation

<SchulCloudPageTitle Title="@Localizer["title"]" />

<MudPaper Class="py-3 px-3">
    <EditForm Model="_model" OnValidSubmit="OnValidSubmitAsync">
        <FluentValidationValidator />

        <Validator For="@(() => _model.CurrentPassword)" ValidateAsync="ValidateCurrentPasswordAsync" />
        <PasswordField @bind-Value="_model.CurrentPassword" For="@(() => _model.CurrentPassword)" Label="@Localizer["form_CurrentPassword"]"
                       RequiredError="@Localizer["form_NotEmpty"]" Required autocomplete="current-password" />

        <PasswordField @bind-Value="_model.NewPassword" For="@(() => _model.NewPassword)" Label="@Localizer["form_NewPassword"]"
                       Class="my-3" RequiredError="@Localizer["form_NotEmpty"]" Required autocomplete="new-password" />
        <PasswordField @bind-Value="_model.ConfirmedPassword" For="@(() => _model.ConfirmedPassword)" Label="@Localizer["form_ConfirmedPassword"]"
                       Class="mb-5" RequiredError="@Localizer["form_NotEmpty"]" Required autocomplete="new-password" />

        <MudButton Color="Color.Primary" ButtonType="ButtonType.Submit">@Localizer["submitBtn"]</MudButton>
        <MudButton Color="Color.Secondary" Href="@Routes.SecurityIndex()">@Localizer["cancelBtn"]</MudButton>
    </EditForm>
</MudPaper>